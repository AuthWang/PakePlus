var e=(e,l,a)=>new Promise((t,s)=>{var n=e=>{try{i(a.next(e))}catch(l){s(l)}},o=e=>{try{i(a.throw(e))}catch(l){s(l)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,o);i((a=a.apply(e,l)).next())});import{d as l,r as a,b as t,o as s,e as n,w as o,f as i,h as d,i as r,j as u,t as c,k as m,l as p,m as v,n as f,p as y,q as g,F as h,s as w,u as b,v as _,x as S,y as k,z as D,A as x,B as C,C as T,D as B,E as O,G as V,H as $,I as L,J as M,K as I}from"./vendor-SW0EUXsP.js";import{j as z}from"./obs-CshGvA7Z.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&l(e)}).observe(document,{childList:!0,subtree:!0})}function l(e){if(e.ep)return;e.ep=!0;const l=function(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?l.credentials="include":"anonymous"===e.crossOrigin?l.credentials="omit":l.credentials="same-origin",l}(e);fetch(e.href,l)}}();const U=""+new URL("obs-logo-qsmf6ZVc.png",import.meta.url).href,E=""+new URL("logo-DKXUnVZR.svg",import.meta.url).href,Y={class:"countdown-display"},H={key:0,class:"custom-countdown"},P={key:0,class:"countdown-item"},R={class:"countdown-number"},j={key:1,class:"countdown-separator"},A={class:"countdown-item"},N={class:"countdown-number"},F={class:"countdown-item"},G={class:"countdown-number"},q={class:"countdown-item"},K={class:"countdown-number"},W={key:1,class:"expired-countdown"},Z={key:2,class:"default-countdown"},J={key:0,class:"countdown-digit"},X={key:1,class:"countdown-separator"},Q=(e,l)=>{const a=e.__vccOpts||e;for(const[t,s]of l)a[t]=s;return a},ee=Q(l({__name:"CountdownDisplay",props:{deadline:{default:""},showDays:{type:Boolean,default:!1},showHours:{type:Boolean,default:!0},showMinutes:{type:Boolean,default:!0},showSeconds:{type:Boolean,default:!0},endText:{default:"时间到"},autoStop:{type:Boolean,default:!0}},emits:["timeElapsed","timeUpdate","start"],setup(l,{expose:p,emit:v}){const f=l,y=v,g=a(new Date);let h=null;const w=a(!1),b=t(()=>{if(!f.deadline)return null;const e=new Date(f.deadline);return console.log("CountdownDisplay - deadline:",f.deadline,"target:",e,"valid:",!isNaN(e.getTime())),isNaN(e.getTime())?(console.error("Invalid deadline format:",f.deadline),null):e}),_=t(()=>{if(!b.value)return 0;const e=b.value.getTime()-g.value.getTime();return console.log("CountdownDisplay - timeLeft:",e,"target:",b.value,"current:",g.value),Math.max(0,e)}),S=t(()=>!(!f.deadline||!b.value)&&_.value<=0),k=t(()=>{if(!f.showDays)return 0;const e=Math.floor(_.value/864e5);return console.log("CountdownDisplay - days calculation:",{timeLeft:_.value,showDays:f.showDays,days:e}),e}),D=t(()=>{if(!f.showHours)return 0;const e=Math.floor(_.value%864e5/36e5);return console.log("CountdownDisplay - hours calculation:",{timeLeft:_.value,showHours:f.showHours,hours:e}),e}),x=t(()=>f.showMinutes?Math.floor(_.value%36e5/6e4):0),C=t(()=>f.showSeconds?Math.floor(_.value%6e4/1e3):0),T=e=>e.toString().padStart(2,"0"),B=()=>{g.value=new Date,(()=>{try{w.value||(w.value=!0,y("start"))}catch(e){console.error("CountdownDisplay - 倒计时开始处理失败:",e)}})(),(()=>{try{const e=_.value;y("timeUpdate",e)}catch(e){console.error("CountdownDisplay - 倒计时更新处理失败:",e)}})(),S.value&&f.deadline&&e(null,null,function*(){try{console.log("CountdownDisplay - 倒计时结束，触发事件"),y("timeElapsed"),f.autoStop&&h&&(clearInterval(h),h=null)}catch(e){console.error("CountdownDisplay - 倒计时结束处理失败:",e)}})},O=()=>{h&&(clearInterval(h),h=null)},V=()=>{f.deadline&&!h&&(w.value=!1,h=setInterval(B,1e3))};return s(()=>{f.deadline&&(console.log("CountdownDisplay - 组件挂载，启动定时器"),h=setInterval(B,1e3))}),n(()=>{console.log("CountdownDisplay - 组件卸载，清理定时器"),h&&(clearInterval(h),h=null)}),o(()=>f.deadline,e=>{console.log("CountdownDisplay - deadline变化:",e),h&&(clearInterval(h),h=null),w.value=!1,e&&(h=setInterval(B,1e3))}),p({stopCountdown:O,startCountdown:V,resetCountdown:()=>{O(),w.value=!1,f.deadline&&V()},timeLeft:_,isExpired:S}),(e,l)=>(d(),i("div",Y,[e.deadline&&!S.value?(d(),i("div",H,[e.showDays?(d(),i("div",P,[u("span",R,c(T(k.value)),1),l[0]||(l[0]=u("span",{class:"countdown-label"},"天",-1))])):r("",!0),e.showDays?(d(),i("div",j,":")):r("",!0),u("div",A,[u("span",N,c(T(D.value)),1),l[1]||(l[1]=u("span",{class:"countdown-label"},"时",-1))]),l[4]||(l[4]=u("div",{class:"countdown-separator"},":",-1)),u("div",F,[u("span",G,c(T(x.value)),1),l[2]||(l[2]=u("span",{class:"countdown-label"},"分",-1))]),l[5]||(l[5]=u("div",{class:"countdown-separator"},":",-1)),u("div",q,[u("span",K,c(T(C.value)),1),l[3]||(l[3]=u("span",{class:"countdown-label"},"秒",-1))])])):S.value?(d(),i("div",W,c(e.endText),1)):(d(),i("div",Z,[e.showDays?(d(),i("span",J,"00")):r("",!0),e.showDays?(d(),i("span",X,":")):r("",!0),l[6]||(l[6]=m('<span class="countdown-digit" data-v-8ef9625c>00</span><span class="countdown-separator" data-v-8ef9625c>:</span><span class="countdown-digit" data-v-8ef9625c>00</span><span class="countdown-separator" data-v-8ef9625c>:</span><span class="countdown-digit" data-v-8ef9625c>00</span>',5))]))]))}}),[["__scopeId","data-v-8ef9625c"]]),le={class:"time-picker"},ae={class:"time-picker-header"},te={class:"time-picker-title"},se={class:"time-picker-content"},ne={key:0,class:"time-selector"},oe={class:"mode-selector"},ie={key:0,class:"time-mode"},de={key:1,class:"duration-mode"},re={class:"action-buttons"},ue={key:1,class:"countdown-display"},ce={class:"countdown-label"},me={class:"action-buttons"},pe=Q(l({__name:"TimePicker",props:{title:{default:"时间选择"},isSet:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},countdownLabel:{default:"距离结束还有："},endText:{default:"时间到"}},emits:["timeSet","timeCancel","timeElapsed"],setup(e,{expose:l,emit:s}){const n=e,o=s,r=a("duration"),m=a(""),b=a(),_=p({hours:0,minutes:30}),S=[{label:"30分钟",value:"00:30:00"},{label:"1小时",value:"01:00:00"},{label:"2小时",value:"02:00:00"},{label:"3小时",value:"03:00:00"},{label:"4小时",value:"04:00:00"},{label:"6小时",value:"06:00:00"},{label:"8小时",value:"08:00:00"},{label:"10小时",value:"10:00:00"},{label:"12小时",value:"12:00:00"},{label:"14小时",value:"14:00:00"},{label:"16小时",value:"16:00:00"},{label:"18小时",value:"18:00:00"},{label:"20小时",value:"20:00:00"},{label:"22小时",value:"22:00:00"},{label:"24小时",value:"24:00:00"}],k=a(""),D=t(()=>n.disabled?"info":n.isSet?"success":"warning"),x=t(()=>n.disabled?"已禁用":n.isSet?"已设置":"未设置"),C=t(()=>"time"===r.value?!!m.value:_.hours>0||_.minutes>0),T=t(()=>{if(!n.isSet||!B.value)return!1;const e=new Date;return(new Date(B.value).getTime()-e.getTime())/864e5>=1}),B=t(()=>{if(!n.isSet)return"";if("time"===r.value&&m.value){const e=new Date(m.value);return isNaN(e.getTime())?(console.error("Invalid date format:",m.value),""):e.toISOString()}if("duration"===r.value){const e=new Date,l=60*_.hours+_.minutes;return new Date(e.getTime()+60*l*1e3).toISOString()}return""}),O=e=>{console.log("DateTime changed:",e),m.value=e};function V(e){const[l,a]=e.split(":");_.hours=parseInt(l),_.minutes=parseInt(a)}const $=()=>{if("time"===r.value&&m.value)console.log("Setting time mode with datetime:",m.value),o("timeSet",m.value,"time");else if("duration"===r.value){const e=60*_.hours+_.minutes;e>0&&(console.log("Setting duration mode with minutes:",e),o("timeSet",`${_.hours.toString().padStart(2,"0")}:${_.minutes.toString().padStart(2,"0")}:00`,"duration",e))}},L=()=>{m.value="",_.hours=0,_.minutes=30,o("timeCancel")},M=()=>{o("timeElapsed")};return l({selectedDateTime:m,countdownRef:b,timeMode:r,durationForm:_}),(e,l)=>{const a=v("el-tag"),t=v("el-radio"),s=v("el-radio-group"),n=v("el-date-picker"),o=v("el-input-number"),p=v("el-form-item"),I=v("el-form"),z=v("el-option"),U=v("el-select"),E=v("el-button");return d(),i("div",le,[u("div",ae,[u("span",te,c(e.title),1),f(a,{type:D.value,size:"small"},{default:y(()=>[g(c(x.value),1)]),_:1},8,["type"])]),u("div",se,[e.isSet?(d(),i("div",ue,[u("div",ce,c(e.countdownLabel),1),f(ee,{deadline:B.value,showDays:T.value,showHours:!0,showMinutes:!0,showSeconds:!0,endText:e.endText,autoStop:!0,onTimeElapsed:M,ref_key:"countdownRef",ref:b},null,8,["deadline","showDays","endText"]),u("div",me,[f(E,{type:"danger",onClick:L,size:"small"},{default:y(()=>l[8]||(l[8]=[g(" 取消 ")])),_:1,__:[8]})])])):(d(),i("div",ne,[u("div",oe,[f(s,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),disabled:e.disabled},{default:y(()=>[f(t,{label:"time"},{default:y(()=>l[5]||(l[5]=[g("指定时间")])),_:1,__:[5]}),f(t,{label:"duration"},{default:y(()=>l[6]||(l[6]=[g("倒计时")])),_:1,__:[6]})]),_:1},8,["modelValue","disabled"])]),"time"===r.value?(d(),i("div",ie,[f(n,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),type:"datetime",placeholder:"选择日期和时间",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm:ss",disabled:e.disabled,style:{width:"100%"},onChange:O},null,8,["modelValue","disabled"])])):(d(),i("div",de,[f(I,{model:_,"label-width":"80px"},{default:y(()=>[f(p,{label:"小时:"},{default:y(()=>[f(o,{modelValue:_.hours,"onUpdate:modelValue":l[2]||(l[2]=e=>_.hours=e),min:0,max:23,disabled:e.disabled,style:{width:"100%"}},null,8,["modelValue","disabled"])]),_:1}),f(p,{label:"分钟:"},{default:y(()=>[f(o,{modelValue:_.minutes,"onUpdate:modelValue":l[3]||(l[3]=e=>_.minutes=e),min:0,max:59,disabled:e.disabled,style:{width:"100%"}},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["model"]),f(p,{label:"快速选择",style:{"margin-top":"8px"}},{default:y(()=>[f(U,{modelValue:k.value,"onUpdate:modelValue":l[4]||(l[4]=e=>k.value=e),placeholder:"请选择常用时间",style:{width:"100%"},disabled:e.disabled,onChange:V},{default:y(()=>[(d(),i(h,null,w(S,e=>f(z,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])]),_:1})])),u("div",re,[f(E,{type:"primary",onClick:$,disabled:!C.value||e.disabled,size:"small"},{default:y(()=>l[7]||(l[7]=[g(" 设置 ")])),_:1,__:[7]},8,["disabled"])])]))])])}}}),[["__scopeId","data-v-3a3434ba"]]),ve={id:"app"},fe={class:"main-content-top"},ye={class:"card-header"},ge={class:"card-header"},he={class:"streaming-controls"},we={class:"card-header"},be={class:"countdown-section"},_e={class:"card-header"},Se={class:"log-header-left"},ke={class:"log-header-right"},De={key:0,class:"log-empty"},xe={key:1,class:"log-list"},Ce={class:"log-icon"},Te={class:"log-content"},Be={class:"log-message"},Oe={class:"log-time"},Ve=M(Q(l({__name:"App",setup(l){const s=new z,o=a(!1),m=a(!1),M=a(!1),I=a(!1);let Y=null;const H=p({time:new Date,status:!1}),P=p({time:"",status:!1}),R=p({address:"ws://localhost:4455",password:""}),j=p({url:"",key:""}),A=a([]),N=a(),F=a(),G=a(),q=t(()=>o.value?{type:"warning",text:"连接中..."}:m.value?{type:"success",text:"已连接"}:{type:"info",text:"未连接"}),K=t(()=>M.value?{type:"success",text:"推流中"}:{type:"info",text:"未推流"}),W=()=>e(null,null,function*(){try{if(!m.value)return ae("OBS连接已断开，无法执行定时开始推流","error"),void(H.status=!1);yield Ve(),H.status=!1,H.time=null,ae("定时开始推流任务已完成","success")}catch(e){ae(`定时开始推流失败: ${e.message}`,"error"),H.status=!1;try{yield ce()}catch(l){ae(`获取推流状态失败: ${l.message}`,"warning")}}}),Z=()=>{if(!H.time)return void L.error("请选择开始时间");const e=new Date;H.time<=e?L.error("开始时间不能早于当前时间"):(H.status=!0,ae(`设置定时开始推流: ${H.time.toISOString()}`,"success"),L.success("定时开始推流已设置"))},J=()=>{H.status=!1,H.time=null,ae("已取消定时开始推流","info"),L.info("已取消定时开始推流")},X=(e,l,a)=>{P.time=e,P.status=!0,"duration"===l&&a?(ae(`设置定时结束推流: ${a}分钟后停止推流`,"success"),L.success(`已设置${a}分钟后停止推流`)):(ae(`设置定时结束推流: ${e}`,"success"),L.success("定时结束推流已设置"))},Q=()=>{P.time="",P.status=!1,ae("已取消定时结束推流","info"),L.info("已取消定时结束推流")},le=()=>e(null,null,function*(){try{if(!m.value)return ae("OBS连接已断开，无法执行定时结束推流","error"),void(P.status=!1);if(!M.value)return ae("当前未在推流，无需停止","info"),P.status=!1,void(P.time="");yield $e(),P.status=!1,P.time="",ae("定时结束推流任务已完成","success")}catch(e){ae(`定时结束推流失败: ${e.message}`,"error"),P.status=!1;try{yield ce()}catch(l){ae(`获取推流状态失败: ${l.message}`,"warning")}}}),ae=(e,l="info")=>{const a=(new Date).toLocaleTimeString();A.value.unshift({time:a,message:e,type:l}),A.value.length>100&&(A.value=A.value.slice(0,100))},te=()=>{A.value=[]},se=()=>{if(0===A.value.length)return void L.warning("暂无日志可导出");const e=A.value.map(e=>{const l={success:"成功",error:"错误",warning:"警告",info:"信息"}[e.type]||"信息";return`[${e.time}] [${l}] ${e.message}`}).join("\n"),l=new Blob([e],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(l),t=document.createElement("a");t.href=a,t.download=`obs-timer-logs-${(new Date).toISOString().slice(0,19).replace(/:/g,"-")}.txt`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a),L.success("日志导出成功")},ne=()=>e(null,null,function*(){if(m.value&&!o.value){console.log("obs连接状态：true");try{yield s.call("GetVersion")}catch(e){ae("检测到连接断开，开始自动重连...","warning"),m.value=!1,M.value=!1,yield oe()}}}),oe=()=>e(null,null,function*(){if(!o.value&&R.address){o.value=!0,ae("正在自动重连OBS...","info");try{yield s.connect(R.address,R.password),m.value=!0,o.value=!1,ae("自动重连成功","success"),yield ce(),yield Me()}catch(e){o.value=!1,ae(`自动重连失败: ${e.message}`,"error"),setTimeout(()=>{m.value||oe()},5e3)}}}),ie=()=>{Y&&(clearInterval(Y),Y=null),ae("已停止连接状态监控","info")},de=()=>e(null,null,function*(){if(R.address){o.value=!0,ae("正在连接OBS...","info");try{yield s.connect(R.address,R.password),m.value=!0,o.value=!1,ae("成功连接到OBS","success"),L.success("连接成功"),re(),yield ce(),yield Me(),Y&&clearInterval(Y),Y=setInterval(ne,1e4),ae("已启动连接状态监控","info")}catch(e){o.value=!1,ae(`连接失败: ${e.message}`,"error"),L.error(`连接失败: ${e.message}`)}}else L.error("请输入OBS WebSocket地址")}),re=()=>{s.on("StreamStarting",()=>{ae("OBS推流正在开始...","info")}),s.on("StreamStarted",()=>{M.value=!0,ae("OBS推流已开始","success"),L.success("推流已开始")}),s.on("StreamStopping",()=>{ae("OBS推流正在停止...","info")}),s.on("StreamStopped",()=>{M.value=!1,ae("OBS推流已停止","info"),L.info("推流已停止")}),s.on("StreamStatus",e=>{M.value=e.outputActive,ae("推流状态变化: "+(e.outputActive?"推流中":"未推流"),"info")}),ae("已设置OBS事件监听","info")},ue=()=>e(null,null,function*(){if(R.address){o.value=!0,ae("正在重连OBS...","info");try{m.value&&(s.disconnect(),m.value=!1,M.value=!1),yield s.connect(R.address,R.password),m.value=!0,o.value=!1,ae("重连OBS成功","success"),L.success("重连成功"),re(),yield ce(),yield Me()}catch(e){o.value=!1,ae(`重连失败: ${e.message}`,"error"),L.error(`重连失败: ${e.message}`)}}else L.error("请输入OBS WebSocket地址")}),ce=()=>e(null,null,function*(){try{const e=(yield s.call("GetStreamStatus")).outputActive;M.value!==e&&(M.value=e,ae("推流状态已更新: "+(e?"推流中":"未推流"),"info"))}catch(e){ae(`获取推流状态失败: ${e.message}`,"error")}}),me=()=>{s.removeAllListeners(),s.disconnect(),m.value=!1,M.value=!1,ie(),ae("已断开OBS连接","info"),L.info("已断开连接")},Ve=()=>e(null,null,function*(){try{if(!m.value)throw new Error("OBS连接已断开");if(M.value)return void ae("已在推流中，无需重复开始","info");yield s.call("StartStream"),M.value=!0,ae("开始推流","success"),L.success("推流已开始")}catch(e){throw ae(`开始推流失败: ${e.message}`,"error"),L.error(`开始推流失败: ${e.message}`),e}}),$e=()=>e(null,null,function*(){try{if(!m.value)throw new Error("OBS连接已断开");if(!M.value)return void ae("当前未在推流，无需停止","info");yield s.call("StopStream"),M.value=!1,ae("停止推流","info"),L.info("推流已停止")}catch(e){throw ae(`停止推流失败: ${e.message}`,"error"),L.error(`停止推流失败: ${e.message}`),e}}),Le=()=>e(null,null,function*(){if(j.url){I.value=!0,ae("正在更新推流设置...","info");try{yield s.call("SetStreamServiceSettings",{streamServiceType:"rtmp_common",streamServiceSettings:{server:j.url,key:j.key||""}}),I.value=!1,ae("推流设置更新成功","success"),L.success("推流设置已更新")}catch(e){I.value=!1,ae(`更新推流设置失败: ${e.message}`,"error"),L.error(`更新推流设置失败: ${e.message}`)}}else L.error("请输入推流地址")}),Me=()=>e(null,null,function*(){try{const e=yield s.call("GetStreamServiceSettings");e.streamServiceSettings&&(j.url=e.streamServiceSettings.server||"",j.key=e.streamServiceSettings.key||"",ae("已获取推流设置","info"))}catch(e){ae(`获取推流设置失败: ${e.message}`,"error")}});return n(()=>{m.value&&(s.removeAllListeners(),s.disconnect()),ie(),H.status=!1,P.status=!1,ae("应用已卸载，已清理所有资源","info")}),(e,l)=>{const a=v("el-header"),t=v("el-tag"),s=v("el-input"),n=v("el-form-item"),p=v("el-button"),L=v("el-form"),z=v("el-card"),Y=v("el-divider"),ae=v("el-date-picker"),ne=v("el-col"),oe=v("el-row"),ie=v("el-icon"),re=v("el-empty"),ce=v("el-main"),Ie=v("el-container");return d(),i("div",ve,[f(Ie,null,{default:y(()=>[f(a,null,{default:y(()=>l[5]||(l[5]=[u("div",{class:"header-content"},[u("div",{class:"logo-section"},[u("img",{src:U,alt:"飞锐云",class:"logo"}),u("h1",null,"飞锐云 OBS 定时推流插件")]),u("div",{class:"version-info"},[u("span",null,"v1.0.0")])],-1)])),_:1,__:[5]}),f(ce,null,{default:y(()=>[u("div",fe,[f(z,{class:"connection-card",style:{"min-height":"340px","margin-right":"10px","min-width":"340px"}},{header:y(()=>[u("div",ye,[l[6]||(l[6]=u("span",null,"OBS 连接状态",-1)),f(t,{type:q.value.type,size:"small"},{default:y(()=>[g(c(q.value.text),1)]),_:1},8,["type"])])]),default:y(()=>[f(L,{model:R,"label-width":"80px"},{default:y(()=>[f(n,{label:"OBS 地址:"},{default:y(()=>[f(s,{modelValue:R.address,"onUpdate:modelValue":l[0]||(l[0]=e=>R.address=e),placeholder:"ws://localhost:4455",disabled:m.value},null,8,["modelValue","disabled"])]),_:1}),f(n,{label:"密码:"},{default:y(()=>[f(s,{modelValue:R.password,"onUpdate:modelValue":l[1]||(l[1]=e=>R.password=e),type:"password",placeholder:"可选",disabled:m.value,"show-password":""},null,8,["modelValue","disabled"])]),_:1}),f(n,null,{default:y(()=>[f(p,{type:"primary",onClick:de,loading:o.value,disabled:m.value,size:"small"},{default:y(()=>l[7]||(l[7]=[g(" 连接 ")])),_:1,__:[7]},8,["loading","disabled"]),f(p,{type:"warning",onClick:ue,loading:o.value,disabled:!m.value,size:"small"},{default:y(()=>l[8]||(l[8]=[g(" 重连 ")])),_:1,__:[8]},8,["loading","disabled"]),f(p,{type:"danger",onClick:me,disabled:!m.value,size:"small"},{default:y(()=>l[9]||(l[9]=[g(" 断开连接 ")])),_:1,__:[9]},8,["disabled"])]),_:1})]),_:1},8,["model"])]),_:1}),m.value?(d(),b(z,{key:0,class:"streaming-card",style:{"min-height":"330px","margin-left":"10px"}},{header:y(()=>[u("div",ge,[l[10]||(l[10]=u("span",null,"推流状态",-1)),f(t,{type:K.value.type,size:"small"},{default:y(()=>[g(c(K.value.text),1)]),_:1},8,["type"])])]),default:y(()=>[f(L,{model:j,"label-width":"100px",class:"streaming-form"},{default:y(()=>[f(n,{label:"推流地址:"},{default:y(()=>[f(s,{modelValue:j.url,"onUpdate:modelValue":l[2]||(l[2]=e=>j.url=e),placeholder:"rtmp://your-streaming-server/live/stream-key",disabled:M.value},null,8,["modelValue","disabled"])]),_:1}),f(n,{label:"推流密钥:"},{default:y(()=>[f(s,{modelValue:j.key,"onUpdate:modelValue":l[3]||(l[3]=e=>j.key=e),type:"textarea",rows:"3",placeholder:"推流密钥（可选）",disabled:M.value},null,8,["modelValue","disabled"])]),_:1}),f(n,null,{default:y(()=>[f(p,{type:"primary",onClick:Le,disabled:M.value,loading:I.value,size:"small"},{default:y(()=>l[11]||(l[11]=[g(" 更新推流设置 ")])),_:1,__:[11]},8,["disabled","loading"]),f(p,{onClick:Me,disabled:M.value,size:"small"},{default:y(()=>l[12]||(l[12]=[g(" 获取当前设置 ")])),_:1,__:[12]},8,["disabled"])]),_:1})]),_:1},8,["model"]),f(Y),u("div",he,[f(p,{type:"success",onClick:Ve,disabled:M.value,icon:_(S),size:"small"},{default:y(()=>l[13]||(l[13]=[g(" 开始推流 ")])),_:1,__:[13]},8,["disabled","icon"]),f(p,{type:"danger",onClick:$e,disabled:!M.value,icon:_(k),size:"small"},{default:y(()=>l[14]||(l[14]=[g(" 停止推流 ")])),_:1,__:[14]},8,["disabled","icon"])])]),_:1})):r("",!0)]),m.value?(d(),b(oe,{key:0},{default:y(()=>[f(ne,{span:12},{default:y(()=>[f(z,{style:{"margin-right":"10px"}},{header:y(()=>[u("div",we,[l[15]||(l[15]=u("span",null,"定时开始推流",-1)),f(t,{type:H.status?"success":"warning",size:"small"},{default:y(()=>[g(c(H.status?"已设置":"未设置"),1)]),_:1},8,["type"])])]),default:y(()=>[f(L,{model:H,"label-width":"100px",class:"streaming-form"},{default:y(()=>[f(n,{label:"开始时间:"},{default:y(()=>[f(ae,{modelValue:H.time,"onUpdate:modelValue":l[4]||(l[4]=e=>H.time=e),type:"datetime",placeholder:"Pick a Date",format:"YYYY-MM-DD HH:mm:ss","date-format":"MMM DD, YYYY","time-format":"HH:mm"},null,8,["modelValue"])]),_:1}),f(n,null,{default:y(()=>[u("div",be,[l[16]||(l[16]=u("div",{class:"countdown-label"},"距离开始推流还有：",-1)),f(ee,{deadline:H.status&&H.time?H.time.toISOString():"",showDays:!0,showHours:!0,showMinutes:!0,showSeconds:!0,autoStop:!0,onTimeElapsed:W,ref_key:"startCountdownRef",ref:N},null,8,["deadline"])])]),_:1}),f(n,null,{default:y(()=>[f(p,{type:"primary",onClick:Z,disabled:!H.time,icon:_(S),size:"small"},{default:y(()=>l[17]||(l[17]=[g(" 设置 ")])),_:1,__:[17]},8,["disabled","icon"]),f(p,{type:"danger",onClick:J,disabled:!H.status,icon:_(k),size:"small"},{default:y(()=>l[18]||(l[18]=[g(" 取消 ")])),_:1,__:[18]},8,["disabled","icon"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),f(ne,{span:12},{default:y(()=>[f(pe,{style:{"margin-left":"10px"},title:"选择结束时间",isSet:P.status,disabled:!M.value,countdownLabel:"距离结束推流还有：",endText:"推流结束",onTimeSet:X,onTimeCancel:Q,onTimeElapsed:le,ref_key:"endTimePickerRef",ref:F},null,8,["isSet","disabled"])]),_:1})]),_:1})):r("",!0),m.value?(d(),b(z,{key:1,class:"log-card"},{header:y(()=>[u("div",_e,[u("div",Se,[l[19]||(l[19]=u("span",null,"操作日志",-1)),f(t,{type:A.value.length>0?"success":"info",size:"small"},{default:y(()=>[g(c(A.value.length)+" 条记录 ",1)]),_:1},8,["type"])]),u("div",ke,[f(p,{size:"small",onClick:te,icon:_(V),type:"danger",plain:""},{default:y(()=>l[20]||(l[20]=[g(" 清空日志 ")])),_:1,__:[20]},8,["icon"]),f(p,{size:"small",onClick:se,icon:_($),type:"primary",plain:""},{default:y(()=>l[21]||(l[21]=[g(" 导出日志 ")])),_:1,__:[21]},8,["icon"])])])]),default:y(()=>[u("div",{class:"log-container",ref_key:"logContainerRef",ref:G},[0===A.value.length?(d(),i("div",De,[f(re,{description:"暂无操作日志","image-size":80},{image:y(()=>[f(ie,{size:"60",color:"#c0c4cc"},{default:y(()=>[f(_(D))]),_:1})]),_:1})])):(d(),i("div",xe,[(d(!0),i(h,null,w(A.value,(e,l)=>(d(),i("div",{key:l,class:x(["log-item",e.type])},[u("div",Ce,["success"===e.type?(d(),b(ie,{key:0},{default:y(()=>[f(_(C))]),_:1})):"error"===e.type?(d(),b(ie,{key:1},{default:y(()=>[f(_(T))]),_:1})):"warning"===e.type?(d(),b(ie,{key:2},{default:y(()=>[f(_(B))]),_:1})):(d(),b(ie,{key:3},{default:y(()=>[f(_(O))]),_:1}))]),u("div",Te,[u("div",Be,c(e.message),1),u("div",Oe,c(e.time),1)])],2))),128))]))],512)]),_:1})):r("",!0),f(z,{class:"brand-card",style:{"margin-top":"10px"}},{default:y(()=>l[22]||(l[22]=[u("div",{class:"brand-content"},[u("div",{class:"brand-info"},[u("img",{src:E,alt:"飞锐云",class:"brand-logo"}),u("div",{class:"brand-text"},[u("h3",null,"飞锐云 OBS 定时推流插件"),u("p",null,"专业的OBS推流管理工具，让您的直播更加智能"),u("p",null,"版本：v1.0.0 | 技术支持：飞锐云团队")])])],-1)])),_:1,__:[22]})]),_:1})]),_:1})])}}}),[["__scopeId","data-v-b5c6f3d1"]]));Ve.use(I,{locale:{name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 Delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}}}),Ve.mount("#app");
